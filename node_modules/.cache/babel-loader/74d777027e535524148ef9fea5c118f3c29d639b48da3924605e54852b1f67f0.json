{"ast":null,"code":"var _jsxFileName = \"C:\\\\Online Exam Proctoring System\\\\frontend\\\\src\\\\components\\\\ExamCreator.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport \"./ExamCreator.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ExamCreator({\n  user,\n  isEditMode\n}) {\n  _s();\n  const {\n    examId\n  } = useParams();\n  const [title, setTitle] = useState(\"\");\n  const [durationMins, setDurationMins] = useState(30);\n  const [questions, setQuestions] = useState([{\n    text: \"\",\n    options: [\"\", \"\", \"\", \"\"],\n    correctOption: 0,\n    image: null,\n    imagePreview: null\n  }]);\n  const [loading, setLoading] = useState(false);\n  const [loadingExam, setLoadingExam] = useState(isEditMode);\n  const navigate = useNavigate();\n\n  // Load exam data if in edit mode\n  useEffect(() => {\n    if (isEditMode && examId) {\n      fetchExamData();\n    }\n  }, [isEditMode, examId]);\n  const fetchExamData = async () => {\n    try {\n      setLoadingExam(true);\n      const token = localStorage.getItem(\"token\");\n      console.log(\"Fetching exam data for ID:\", examId);\n      // Try the admin endpoint for fetching all exams\n      const response = await fetch(`http://localhost:4000/api/admin/exams`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(\"Fetch response status:\", response.status);\n      if (response.ok) {\n        const allExams = await response.json();\n        console.log(\"All exams data:\", allExams);\n\n        // Find the specific exam by ID\n        const examData = allExams.find(exam => exam._id === examId);\n        if (examData) {\n          console.log(\"Found exam data:\", examData);\n          setTitle(examData.title);\n          setDurationMins(examData.durationMins);\n\n          // Map questions and add image properties if they don't exist\n          const formattedQuestions = examData.questions.map(q => ({\n            ...q,\n            image: q.image || null,\n            imagePreview: q.image ? `http://localhost:4000${q.image}` : null\n          }));\n          setQuestions(formattedQuestions);\n          setLoadingExam(false);\n        } else {\n          console.error(\"Exam not found in the list\");\n          setLoadingExam(false);\n          alert(\"Failed to load exam data - Exam not found\");\n        }\n      } else {\n        console.error(\"Failed to fetch exams\");\n        setLoadingExam(false);\n        alert(\"Failed to load exam data\");\n      }\n    } catch (error) {\n      console.error(\"Error loading exam:\", error);\n      alert(\"Error loading exam data\");\n    } finally {\n      setLoadingExam(false);\n    }\n  };\n  const handleAddQuestion = () => {\n    setQuestions([...questions, {\n      text: \"\",\n      options: [\"\", \"\", \"\", \"\"],\n      correctOption: 0,\n      image: null,\n      imagePreview: null\n    }]);\n  };\n  const handleRemoveQuestion = index => {\n    if (questions.length === 1) {\n      alert(\"You must have at least one question\");\n      return;\n    }\n    const newQuestions = questions.filter((_, i) => i !== index);\n    setQuestions(newQuestions);\n  };\n  const handleQuestionChange = (index, field, value) => {\n    const newQuestions = [...questions];\n    newQuestions[index][field] = value;\n    setQuestions(newQuestions);\n  };\n  const handleImageUpload = (qIndex, e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const newQuestions = [...questions];\n    newQuestions[qIndex].image = file;\n\n    // Create a preview URL for the image\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      newQuestions[qIndex].imagePreview = reader.result;\n      setQuestions([...newQuestions]);\n    };\n    reader.readAsDataURL(file);\n  };\n  const handleRemoveImage = qIndex => {\n    const newQuestions = [...questions];\n    newQuestions[qIndex].image = null;\n    newQuestions[qIndex].imagePreview = null;\n    setQuestions([...newQuestions]);\n  };\n  const handleOptionChange = (qIndex, oIndex, value) => {\n    const newQuestions = [...questions];\n    newQuestions[qIndex].options[oIndex] = value;\n    setQuestions(newQuestions);\n  };\n  const handleCorrectOptionChange = (qIndex, oIndex) => {\n    const newQuestions = [...questions];\n    newQuestions[qIndex].correctOption = oIndex;\n    setQuestions(newQuestions);\n  };\n  const validateExam = () => {\n    if (!title.trim()) {\n      alert(\"Please enter an exam title\");\n      return false;\n    }\n    if (durationMins < 1) {\n      alert(\"Duration must be at least 1 minute\");\n      return false;\n    }\n    for (let i = 0; i < questions.length; i++) {\n      const q = questions[i];\n      if (!q.text.trim()) {\n        alert(`Please enter text for question ${i + 1}`);\n        return false;\n      }\n      for (let j = 0; j < q.options.length; j++) {\n        if (!q.options[j].trim()) {\n          alert(`Please fill in option ${j + 1} for question ${i + 1}`);\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateExam()) return;\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n\n      // Create FormData to handle file uploads\n      const formData = new FormData();\n      formData.append(\"title\", title);\n      formData.append(\"durationMins\", durationMins);\n\n      // Process questions and handle file uploads\n      const questionsData = questions.map((q, index) => {\n        // Create a copy without the file object (we'll handle files separately)\n        const questionCopy = {\n          ...q\n        };\n\n        // If there's an image file, append it to formData with question index\n        if (q.image instanceof File) {\n          formData.append(`questionImage_${index}`, q.image);\n          formData.append(`hasNewImage_${index}`, 'true');\n        } else if (q.imagePreview && q.imagePreview.startsWith('http')) {\n          // Keep existing image path\n          formData.append(`existingImage_${index}`, q.image);\n        }\n\n        // Remove client-side only properties\n        delete questionCopy.imagePreview;\n        delete questionCopy.image;\n        return questionCopy;\n      });\n      formData.append(\"questions\", JSON.stringify(questionsData));\n\n      // Determine endpoint and method based on mode\n      const url = isEditMode ? `http://localhost:4000/api/admin/exam/${examId}` : \"http://localhost:4000/api/admin/exam/create\";\n      const method = isEditMode ? \"PUT\" : \"POST\";\n\n      // For FormData, don't include Content-Type header as it will be set automatically with boundary\n      const response = await fetch(url, {\n        method: method,\n        body: formData,\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const result = await response.json();\n        alert(isEditMode ? \"Exam updated successfully!\" : \"Exam created successfully!\");\n        navigate(\"/admin/dashboard\");\n      } else {\n        const error = await response.json();\n        alert(`Error: ${error.message || \"Something went wrong\"}`);\n      }\n    } catch (error) {\n      console.error(\"Error submitting exam:\", error);\n      alert(\"Error submitting exam. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"exam-creator-container\",\n    children: loadingExam ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading exam data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"exam-creator-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/admin/dashboard\"),\n          className: \"btn-back\",\n          children: \"\\u2190 Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: isEditMode ? \"‚úèÔ∏è Edit Exam\" : \"üìù Create New Exam\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"exam-creator-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Basic Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Exam Title *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"e.g., JavaScript Fundamentals Quiz\",\n              value: title,\n              onChange: e => setTitle(e.target.value),\n              className: \"form-input\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Duration (minutes) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"1\",\n              max: \"180\",\n              placeholder: \"30\",\n              value: durationMins,\n              onChange: e => setDurationMins(parseInt(e.target.value)),\n              className: \"form-input\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"questions-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Questions (\", questions.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleAddQuestion,\n              className: \"btn-add-question\",\n              children: \"\\u2795 Add Question\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 11\n          }, this), questions.map((question, qIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"Question \", qIndex + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this), questions.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => handleRemoveQuestion(qIndex),\n                className: \"btn-remove\",\n                children: \"\\uD83D\\uDDD1\\uFE0F Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Question Text *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                placeholder: \"Enter your question here...\",\n                value: question.text,\n                onChange: e => handleQuestionChange(qIndex, \"text\", e.target.value),\n                className: \"form-textarea\",\n                rows: \"3\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Question Image (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-upload-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: e => handleImageUpload(qIndex, e),\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 19\n                }, this), question.imagePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-preview\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: question.imagePreview,\n                    alt: \"Question preview\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => handleRemoveImage(qIndex),\n                    className: \"btn-remove-image\",\n                    children: \"Remove Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"options-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Options *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), question.options.map((option, oIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: `correct-${qIndex}`,\n                  checked: question.correctOption === oIndex,\n                  onChange: () => handleCorrectOptionChange(qIndex, oIndex),\n                  className: \"radio-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: `Option ${oIndex + 1}`,\n                  value: option,\n                  onChange: e => handleOptionChange(qIndex, oIndex, e.target.value),\n                  className: \"form-input option-input\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 21\n                }, this), question.correctOption === oIndex && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"correct-indicator\",\n                  children: \"\\u2713 Correct\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this)]\n              }, oIndex, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"helper-text\",\n                children: \"\\uD83D\\uDCA1 Select the radio button to mark the correct answer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this)]\n          }, qIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => navigate(\"/admin/dashboard\"),\n            className: \"btn-cancel\",\n            disabled: loading,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-submit\",\n            disabled: loading,\n            children: loading ? isEditMode ? \"Updating...\" : \"Creating...\" : isEditMode ? \"‚úì Update Exam\" : \"‚úì Create Exam\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n}\n_s(ExamCreator, \"yk6DV6kNK65yzchQYMUgplbn4yQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ExamCreator;\nvar _c;\n$RefreshReg$(_c, \"ExamCreator\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","jsxDEV","_jsxDEV","Fragment","_Fragment","ExamCreator","user","isEditMode","_s","examId","title","setTitle","durationMins","setDurationMins","questions","setQuestions","text","options","correctOption","image","imagePreview","loading","setLoading","loadingExam","setLoadingExam","navigate","fetchExamData","token","localStorage","getItem","console","log","response","fetch","headers","Authorization","status","ok","allExams","json","examData","find","exam","_id","formattedQuestions","map","q","error","alert","handleAddQuestion","handleRemoveQuestion","index","length","newQuestions","filter","_","i","handleQuestionChange","field","value","handleImageUpload","qIndex","e","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleRemoveImage","handleOptionChange","oIndex","handleCorrectOptionChange","validateExam","trim","j","handleSubmit","preventDefault","formData","FormData","append","questionsData","questionCopy","File","startsWith","JSON","stringify","url","method","body","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","placeholder","onChange","required","min","max","parseInt","question","rows","accept","src","alt","option","name","checked","disabled","_c","$RefreshReg$"],"sources":["C:/Online Exam Proctoring System/frontend/src/components/ExamCreator.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport \"./ExamCreator.css\";\r\n\r\nexport default function ExamCreator({ user, isEditMode }) {\r\n  const { examId } = useParams();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [durationMins, setDurationMins] = useState(30);\r\n  const [questions, setQuestions] = useState([\r\n    {\r\n      text: \"\",\r\n      options: [\"\", \"\", \"\", \"\"],\r\n      correctOption: 0,\r\n      image: null,\r\n      imagePreview: null\r\n    },\r\n  ]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingExam, setLoadingExam] = useState(isEditMode);\r\n  const navigate = useNavigate();\r\n\r\n  // Load exam data if in edit mode\r\n  useEffect(() => {\r\n    if (isEditMode && examId) {\r\n      fetchExamData();\r\n    }\r\n  }, [isEditMode, examId]);\r\n\r\n  const fetchExamData = async () => {\r\n    try {\r\n      setLoadingExam(true);\r\n      const token = localStorage.getItem(\"token\");\r\n      \r\n      console.log(\"Fetching exam data for ID:\", examId);\r\n      // Try the admin endpoint for fetching all exams\r\n      const response = await fetch(`http://localhost:4000/api/admin/exams`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      \r\n      console.log(\"Fetch response status:\", response.status);\r\n\r\n      if (response.ok) {\r\n        const allExams = await response.json();\r\n        console.log(\"All exams data:\", allExams);\r\n        \r\n        // Find the specific exam by ID\r\n        const examData = allExams.find(exam => exam._id === examId);\r\n        \r\n        if (examData) {\r\n          console.log(\"Found exam data:\", examData);\r\n          setTitle(examData.title);\r\n          setDurationMins(examData.durationMins);\r\n          \r\n          // Map questions and add image properties if they don't exist\r\n          const formattedQuestions = examData.questions.map(q => ({\r\n            ...q,\r\n            image: q.image || null,\r\n            imagePreview: q.image ? `http://localhost:4000${q.image}` : null\r\n          }));\r\n          \r\n          setQuestions(formattedQuestions);\r\n          setLoadingExam(false);\r\n        } else {\r\n          console.error(\"Exam not found in the list\");\r\n          setLoadingExam(false);\r\n          alert(\"Failed to load exam data - Exam not found\");\r\n        }\r\n      } else {\r\n        console.error(\"Failed to fetch exams\");\r\n        setLoadingExam(false);\r\n        alert(\"Failed to load exam data\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading exam:\", error);\r\n      alert(\"Error loading exam data\");\r\n    } finally {\r\n      setLoadingExam(false);\r\n    }\r\n  };\r\n\r\n  const handleAddQuestion = () => {\r\n    setQuestions([\r\n      ...questions,\r\n      {\r\n        text: \"\",\r\n        options: [\"\", \"\", \"\", \"\"],\r\n        correctOption: 0,\r\n        image: null,\r\n        imagePreview: null\r\n      },\r\n    ]);\r\n  };\r\n\r\n  const handleRemoveQuestion = (index) => {\r\n    if (questions.length === 1) {\r\n      alert(\"You must have at least one question\");\r\n      return;\r\n    }\r\n    const newQuestions = questions.filter((_, i) => i !== index);\r\n    setQuestions(newQuestions);\r\n  };\r\n\r\n  const handleQuestionChange = (index, field, value) => {\r\n    const newQuestions = [...questions];\r\n    newQuestions[index][field] = value;\r\n    setQuestions(newQuestions);\r\n  };\r\n\r\n  const handleImageUpload = (qIndex, e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    const newQuestions = [...questions];\r\n    newQuestions[qIndex].image = file;\r\n    \r\n    // Create a preview URL for the image\r\n    const reader = new FileReader();\r\n    reader.onloadend = () => {\r\n      newQuestions[qIndex].imagePreview = reader.result;\r\n      setQuestions([...newQuestions]);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleRemoveImage = (qIndex) => {\r\n    const newQuestions = [...questions];\r\n    newQuestions[qIndex].image = null;\r\n    newQuestions[qIndex].imagePreview = null;\r\n    setQuestions([...newQuestions]);\r\n  };\r\n\r\n  const handleOptionChange = (qIndex, oIndex, value) => {\r\n    const newQuestions = [...questions];\r\n    newQuestions[qIndex].options[oIndex] = value;\r\n    setQuestions(newQuestions);\r\n  };\r\n\r\n  const handleCorrectOptionChange = (qIndex, oIndex) => {\r\n    const newQuestions = [...questions];\r\n    newQuestions[qIndex].correctOption = oIndex;\r\n    setQuestions(newQuestions);\r\n  };\r\n\r\n  const validateExam = () => {\r\n    if (!title.trim()) {\r\n      alert(\"Please enter an exam title\");\r\n      return false;\r\n    }\r\n\r\n    if (durationMins < 1) {\r\n      alert(\"Duration must be at least 1 minute\");\r\n      return false;\r\n    }\r\n\r\n    for (let i = 0; i < questions.length; i++) {\r\n      const q = questions[i];\r\n      \r\n      if (!q.text.trim()) {\r\n        alert(`Please enter text for question ${i + 1}`);\r\n        return false;\r\n      }\r\n\r\n      for (let j = 0; j < q.options.length; j++) {\r\n        if (!q.options[j].trim()) {\r\n          alert(`Please fill in option ${j + 1} for question ${i + 1}`);\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateExam()) return;\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      \r\n      // Create FormData to handle file uploads\r\n      const formData = new FormData();\r\n      formData.append(\"title\", title);\r\n      formData.append(\"durationMins\", durationMins);\r\n      \r\n      // Process questions and handle file uploads\r\n      const questionsData = questions.map((q, index) => {\r\n        // Create a copy without the file object (we'll handle files separately)\r\n        const questionCopy = { ...q };\r\n        \r\n        // If there's an image file, append it to formData with question index\r\n        if (q.image instanceof File) {\r\n          formData.append(`questionImage_${index}`, q.image);\r\n          formData.append(`hasNewImage_${index}`, 'true');\r\n        } else if (q.imagePreview && q.imagePreview.startsWith('http')) {\r\n          // Keep existing image path\r\n          formData.append(`existingImage_${index}`, q.image);\r\n        }\r\n        \r\n        // Remove client-side only properties\r\n        delete questionCopy.imagePreview;\r\n        delete questionCopy.image;\r\n        \r\n        return questionCopy;\r\n      });\r\n      \r\n      formData.append(\"questions\", JSON.stringify(questionsData));\r\n      \r\n      // Determine endpoint and method based on mode\r\n      const url = isEditMode \r\n        ? `http://localhost:4000/api/admin/exam/${examId}` \r\n        : \"http://localhost:4000/api/admin/exam/create\";\r\n      \r\n      const method = isEditMode ? \"PUT\" : \"POST\";\r\n\r\n      // For FormData, don't include Content-Type header as it will be set automatically with boundary\r\n      const response = await fetch(url, {\r\n        method: method,\r\n        body: formData,\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        alert(isEditMode ? \"Exam updated successfully!\" : \"Exam created successfully!\");\r\n        navigate(\"/admin/dashboard\");\r\n      } else {\r\n        const error = await response.json();\r\n        alert(`Error: ${error.message || \"Something went wrong\"}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error submitting exam:\", error);\r\n      alert(\"Error submitting exam. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"exam-creator-container\">\r\n      {loadingExam ? (\r\n        <div className=\"loading-container\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Loading exam data...</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"exam-creator-header\">\r\n            <button onClick={() => navigate(\"/admin/dashboard\")} className=\"btn-back\">\r\n              ‚Üê Back to Dashboard\r\n            </button>\r\n            <h1>{isEditMode ? \"‚úèÔ∏è Edit Exam\" : \"üìù Create New Exam\"}</h1>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"exam-creator-form\">\r\n            {/* Basic Info */}\r\n            <div className=\"form-section\">\r\n              <h2>Basic Information</h2>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Exam Title *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"e.g., JavaScript Fundamentals Quiz\"\r\n                  value={title}\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                  className=\"form-input\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Duration (minutes) *</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max=\"180\"\r\n                  placeholder=\"30\"\r\n                  value={durationMins}\r\n                  onChange={(e) => setDurationMins(parseInt(e.target.value))}\r\n                  className=\"form-input\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n        {/* Questions */}\r\n        <div className=\"form-section\">\r\n          <div className=\"questions-header\">\r\n            <h2>Questions ({questions.length})</h2>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleAddQuestion}\r\n              className=\"btn-add-question\"\r\n            >\r\n              ‚ûï Add Question\r\n            </button>\r\n          </div>\r\n\r\n          {questions.map((question, qIndex) => (\r\n            <div key={qIndex} className=\"question-card\">\r\n              <div className=\"question-header\">\r\n                <h3>Question {qIndex + 1}</h3>\r\n                {questions.length > 1 && (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => handleRemoveQuestion(qIndex)}\r\n                    className=\"btn-remove\"\r\n                  >\r\n                    üóëÔ∏è Remove\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Question Text *</label>\r\n                <textarea\r\n                  placeholder=\"Enter your question here...\"\r\n                  value={question.text}\r\n                  onChange={(e) =>\r\n                    handleQuestionChange(qIndex, \"text\", e.target.value)\r\n                  }\r\n                  className=\"form-textarea\"\r\n                  rows=\"3\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Question Image (Optional)</label>\r\n                <div className=\"image-upload-container\">\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={(e) => handleImageUpload(qIndex, e)}\r\n                    className=\"form-input\"\r\n                  />\r\n                  {question.imagePreview && (\r\n                    <div className=\"image-preview\">\r\n                      <img src={question.imagePreview} alt=\"Question preview\" />\r\n                      <button \r\n                        type=\"button\" \r\n                        onClick={() => handleRemoveImage(qIndex)}\r\n                        className=\"btn-remove-image\"\r\n                      >\r\n                        Remove Image\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"options-section\">\r\n                <label>Options *</label>\r\n                {question.options.map((option, oIndex) => (\r\n                  <div key={oIndex} className=\"option-row\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name={`correct-${qIndex}`}\r\n                      checked={question.correctOption === oIndex}\r\n                      onChange={() => handleCorrectOptionChange(qIndex, oIndex)}\r\n                      className=\"radio-input\"\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder={`Option ${oIndex + 1}`}\r\n                      value={option}\r\n                      onChange={(e) =>\r\n                        handleOptionChange(qIndex, oIndex, e.target.value)\r\n                      }\r\n                      className=\"form-input option-input\"\r\n                      required\r\n                    />\r\n                    {question.correctOption === oIndex && (\r\n                      <span className=\"correct-indicator\">‚úì Correct</span>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n                <p className=\"helper-text\">\r\n                  üí° Select the radio button to mark the correct answer\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n            {/* Submit */}\r\n            <div className=\"form-actions\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => navigate(\"/admin/dashboard\")}\r\n                className=\"btn-cancel\"\r\n                disabled={loading}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn-submit\"\r\n                disabled={loading}\r\n              >\r\n                {loading ? (isEditMode ? \"Updating...\" : \"Creating...\") : (isEditMode ? \"‚úì Update Exam\" : \"‚úì Create Exam\")}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}